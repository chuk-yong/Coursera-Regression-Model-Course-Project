---
title: "Coursera Regression Model Course Project"
author: "Chuk Yong"
date: "31/12/2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Coursera Regression Model Course Project

You work for Motor Trend, a magazine about the automobile industry. Looking at a data set of a collection of cars, they are interested in exploring the relationship between a set of variables and miles per gallon (MPG) (outcome). They are particularly interested in the following two questions:

???Is an automatic or manual transmission better for MPG???
"Quantify the MPG difference between automatic and manual transmissions"

#Start
Load dataset and understand the contents
```{r message=FALSE}
library(mtcars)
data(mtcars)
str(mtcars)
```
Transform some variables into factor form
```{r message=FALSE}
mtcars$cyl  <- factor(mtcars$cyl)
mtcars$vs   <- factor(mtcars$vs)
mtcars$am   <- factor(mtcars$am,labels=c("Auto","Man"))
mtcars$gear <- factor(mtcars$gear)
mtcars$carb <- factor(mtcars$carb)
```
## Exploratory Data Analysis
To answer the first question - ???Is an automatic or manual transmission better for MPG???, let's look at the sample and determine the averages and whether the value is signigicant. 

```{r}
mpgAuto <- subset(mtcars, mtcars$am == "Auto", select = c(mpg))
mpgMan <- subset(mtcars, mtcars$am == "Man", select = c(mpg))
t.test(mpgAuto$mpg, mpgMan$mpg)
```
We can see that:
1. Average mpg for Automatic transmission is 17.15.
2. Average mpg for Manual transmission is 24,39.
3. p-value = 0.001374

Clearly, Manual transmission has a much better mpg and the test is significant (p-value < 0.01).  

We can now proceed with regression modelling to see how well the fit is.  

```{r}
fit <- lm(mpg ~ am, data = mtcars)
summary(fit)
```
As confimed by the coefficients - Manual transmission is 7.245mpg better than Autotransmission.  p-value is much less than 0.01 and so they are significant.  However, looking at R-squared and Adjusted R-squared, the value of 0.36 and 0.33 tells us that there is room for improvement.

In order to make a better decision on what other variables could possible impact mpg, we made a pairplot.  Results are shown in Appendix 1.

From the pair plot, we can see that there are some correlation between cyl - cylinder, disp - displacement, hp - horse power and wt - weight. 

We will git in the variables one by one and see if the introduction improves on our original fit.




First, we explore the datasets by plotting mpg against other variables to see if there is a corelation.  Script and plots can be found in Appendix A.
From the plots, we can 

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
